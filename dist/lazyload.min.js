/**
 * jQuery.lazyLoad | https://github.com/Ennexa/jQuery.lazyLoad
 * Lazy load javascript and css files
 *
 * Copyright 2015 Ennexa Technologies (P) Ltd | http://www.ennexa.com/
 * @author Joyce Babu
 * @version 2.0
 */
!function(e){"use strict"
function n(e,n){var r=document.createElement(e)
for(var t in n)r.setAttribute(t,n[t])
return r}function r(r,t){var s=new e.Deferred
if(e(("css"===t?"link[href":"script[src")+'="'+r+'"]').length)s.resolve()
else{var o=null,c=function(){return function(){var e=this.readyState
e&&"complete"!=e&&"loaded"!=e||(o.onload=o.onreadystatechange=null,s.resolve())}}()
"css"===t?(o=n("link",{type:"text/css",rel:"stylesheet",href:r}),setTimeout(c,500)):(o=n("script",{async:!0,src:r}),o.onload=o.onreadystatechange=c),e.isReady?document.getElementsByTagName("head")[0].appendChild(o):a.push(o)}return s.promise()}function t(e){var n="js",t=e.indexOf("!")
return-1!=t?(n=e.substring(0,t),e=e.substring(t+1)):-1!=e.indexOf(".css")&&(n="css"),s[e]||(s[e]=r(e,n)),s[e]}var s={},a=[]
e(document).on("ready",function(){for(var e=0,n=a.length;n>e;e++)document.getElementsByTagName("head")[0].appendChild(a[e])}),e.lazyLoad=function(n,r){if(n.constructor==Array){var s=new e.Deferred
r&&s.done(r)
for(var a=n.length,o=[],c=0;a>c;c++){var i,u=n[c]
if(u.constructor==Array){var d=new e.Deferred
e.lazyLoad(u).done(function(){n.slice(c+1)
e.lazyLoad(n.slice(c+1)).done(function(){d.resolve()})}),o.push(d.promise())
break}o.push(t(u))}return e.when.apply(e,o).then(function(){s.resolve()}),s.promise()}var i=t(n)
return r&&i.done(r),i}}(jQuery)
