/**
 * jQuery.lazyLoad | https://github.com/Ennexa/jQuery.lazyLoad
 * Lazy load javascript and css files
 *
 * Copyright 2015 Ennexa Technologies (P) Ltd | http://www.ennexa.com/
 * @author Joyce Babu
 * @version 2.0
 */

(function(d){function l(a,c){var d=document.createElement(a),b;for(b in c)d.setAttribute(b,c[b]);return d}function n(a,c){var e=new d.Deferred;if(d(("css"===c?"link[href":"script[src")+'="'+a+'"]').length)e.resolve();else{var b=null,g=function(){return function(){var a=this.readyState;a&&"complete"!=a&&"loaded"!=a||(b.onload=b.onreadystatechange=null,e.resolve())}}();"css"===c?(b=l("link",{type:"text/css",rel:"stylesheet",href:a}),setTimeout(g,500)):(b=l("script",{async:!0,src:a}),b.onload=b.onreadystatechange=
g);d.isReady?document.getElementsByTagName("head")[0].appendChild(b):f.push(b)}return e.promise()}function m(a){var c="js";-1!=(pos=a.indexOf("!"))?(c=a.substring(0,pos),a=a.substring(pos+1)):-1!=a.indexOf(".css")&&(c="css");h[a]||(h[a]=n(a,c));return h[a]}var h={},f=[];d(document).on("ready",function(){for(var a=0,c=f.length;a<c;a++)document.getElementsByTagName("head")[0].appendChild(f[a])});d.lazyLoad=function(a,c){if(a.constructor==Array){var e=new d.Deferred;c&&e.done(c);for(var b=a.length,g=
[],k=0;k<b;k++){var f=a[k];if(f.constructor==Array){var h=new d.Deferred;d.lazyLoad(f).done(function(){a.slice(k+1);d.lazyLoad(a.slice(k+1)).done(function(){h.resolve()})});g.push(h.promise());break}else g.push(m(f))}d.when.apply(d,g).then(function(){e.resolve()});return e.promise()}b=m(a);c&&b.done(c);return b}})(jQuery);